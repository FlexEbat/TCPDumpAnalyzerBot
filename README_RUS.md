--

–ú–æ—â–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ `.pcap`, –≤—ã—è–≤–ª—è—Ç—å DDoS-–∞—Ç–∞–∫–∏ –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å DNS/HTTPS –∑–∞–ø—Ä–æ—Å—ã –ø—Ä—è–º–æ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **üî¥ –ó–∞–ø–∏—Å—å —Ç—Ä–∞—Ñ–∏–∫–∞:** –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–æ–≤ (`.pcap`) –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (`/capture`).
*   **üìÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏:** –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤.
*   **üìä –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞:**
    *   **–¢–æ–ø IP:** –í—ã—è–≤–ª–µ–Ω–∏–µ —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤ (–ø–æ–∏—Å–∫ –∞—Ç–∞–∫—É—é—â–∏—Ö).
    *   **DNS –∏ SNI:** –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤ –∏ —Å–∞–π—Ç–æ–≤.
    *   **User-Agents:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (iPhone, Android, –±–æ—Ç—ã, —Å–∫—Ä–∏–ø—Ç—ã).
*   **üåç –ü—Ä–æ–±–∏–≤ IP:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –°—Ç—Ä–∞–Ω—ã, –ì–æ—Ä–æ–¥–∞ –∏ –ü—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (GeoIP) –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ IP.
*   **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ ID).

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **–û–°:** Linux (Ubuntu, Debian, CentOS –∏ –¥—Ä.)
*   **Python:** 3.8 –∏–ª–∏ –Ω–æ–≤–µ–µ.
*   **–£—Ç–∏–ª–∏—Ç—ã:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `tcpdump`.
*   **–ü—Ä–∞–≤–∞:** Root (—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ø–∞–ø–∫—É:**
    ```bash
    mkdir -p ~/tcpdumpLOGS/bot
    cd ~/tcpdumpLOGS/bot
    # –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å—é–¥–∞ —Ñ–∞–π–ª main.py
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    ```bash
    pip install aiogram aiohttp
    ```

4.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
    –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `main.py` –∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ:
    ```python
    API_TOKEN = '–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê'
    ADMIN_ID = 123456789  # –í–∞—à ID –≤ Telegram
    LOGS_DIR = '/home/flexebat/tcpdumpLOGS/' # –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ –ª–æ–≥–æ–≤
    ```

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ö–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ:**
*   `/start` ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π.
*   `/capture` ‚Äî –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å —Ç—Ä–∞—Ñ–∏–∫–∞ (–±–æ—Ç —Å–ø—Ä–æ—Å–∏—Ç –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö).
*   `/stats` ‚Äî –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–æ–≤.
*   `/download` ‚Äî –°–∫–∞—á–∞—Ç—å `.pcap` —Ñ–∞–π–ª.

---

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (Uptime 24/7)

–ß—Ç–æ–±—ã –±–æ—Ç —Ä–∞–±–æ—Ç–∞–ª –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª—Å—è –ø—Ä–∏ —Å–±–æ—è—Ö, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ **Systemd**.

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–ª—É–∂–±—ã:**
    ```bash
    sudo nano /etc/systemd/system/tcpdumpbot.service
    ```

2.  **–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
    *(–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –≤–∞—à–∏–º–∏!)*
    ```ini
    [Unit]
    Description=Telegram Bot for TCPDump
    After=network.target

    [Service]
    # –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –æ—Ç root –¥–ª—è —Ä–∞–±–æ—Ç—ã tcpdump
    User=root
    Group=root

    # –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞
    WorkingDirectory=/home/flexebat/tcpdumpLOGS/bot

    # –ü—É—Ç—å –∫ Python –≤–Ω—É—Ç—Ä–∏ venv –∏ –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É
    ExecStart=/home/flexebat/tcpdumpLOGS/bot/venv/bin/python /home/flexebat/tcpdumpLOGS/bot/main.py

    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
    Restart=always
    RestartSec=5

    [Install]
    WantedBy=multi-user.target
    ```

3.  **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
    ```bash
    sudo systemctl daemon-reload
    sudo systemctl enable tcpdumpbot
    sudo systemctl start tcpdumpbot
    ```

4.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
    ```bash
    sudo systemctl status tcpdumpbot
    ```
